<%= f.input :nombre %>
<%= f.input :referencia %>
<%= f.input :referenciacinep %>

<%= f.input :estado, collection: [
  ['EN EJECUCIÓN', :J], ['EN TRAMITE', :E], 
  ['RECHAZADO', :R], ['TERMINADO', :T] ],
  include_blank: false,
  input_html: {
    value: f.object.estado ? f.object.estado : 'J'
  }
%>

<%= f.input :dificultad, collection: [
  ['BAJA', :B], ['MEDIA', :M], 
  ['ALTA', :A], ['N/A', :N] ],
  include_blank: false,
  input_html: {
    value: f.object.estado ? f.object.estado : 'N'
  }
%>

<%= f.association :financiador,
  collection: Cor1440Gen::Financiador.habilitados,
  label_method: :nombre,
  value_method: :id 
%>
<%= f.input :fuentefinanciador %>

<%= f.input :fechainicio_localizada, :input_html => { 
  "data-behaviour" => "datepicker" },
  :as => :string
%>

<%= f.input :fechacierre_localizada, :input_html => { 
  "data-behaviour" => "datepicker" },
  :as => :string
%>

<%
  f.object.duracion = ''
  if f.object.fechainicio && f.object.fechacierre then
    f.object.duracion = dif_meses_dias(
      f.object.fechainicio, f.object.fechacierre
    )
  end
%>
<%= f.input :duracion,
  label: 'Duración',
  :input_html => { 'readonly' => 'readonly' }
%>

<%= f.input :fechaliquidacion_localizada, :input_html => { 
  "data-behaviour" => "datepicker" },
  :as => :string
%>

<%= f.input :anotacionesdb, as: :text, input_html: { rows: 5 } %>

